---
layout: post
title: How To Enable TLSv1.2 in Oracle WebLogic Server
date: '2020-01-09T17:00:00.003+05:30'
author: Pinak Mazumdar
sitemap:
  lastmod: 2022-05-31
  priority: 0.7
  changefreq: 'monthly'
  exclude: 'no'
tags:
- Keytool.SHA256 certiifcates
- TLS
- Enabling TLS
- weblogic
- SSL
modified_time: '2020-01-09T17:01:15.680+05:30'
subtitle: How To Enable TLSv1.2 in Oracle WebLogic Server
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><h2 style="line-height: normal; text-align: left;"></h2><div class="MsoNormal" style="line-height: normal; text-align: left;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><b>TLS (Transport Layer Security) </b>is the successor to SSL and is used to encrypt transmissions over the network and the web. TLS 1.2 is the most secure protocol available till date for use.<o:p></o:p></span></div><div class="MsoNormal" style="line-height: normal; text-align: left;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">In order to successfully establish TLS 1.2 communication with external clients and enabling TLSv1.2 protocol in Web Logic Server the steps are classified as: <o:p></o:p></span></div><div class="MsoNormal" style="line-height: normal; text-align: left;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><br /></span></div><div style="text-align: left;"></div><ol style="text-align: left;"><li><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">Migrate      to SHA2 compliant certificates in WLS trust and identity stores. (Refer Support for SHA2 certificates in WLS section given below)</span></li><li><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">Migrate/Re-generate SHA2 compliant certificates. (Refer How to migrate keystores to use SHA2 certificates givem below)</span></li><li><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal;">&nbsp;</span>Add/set all the required properties in WLS to pick TLS 1.2 protocol for secure communication.</span></li></ol><br /><br /><br /><div class="MsoNoSpacing"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">Note that SHA2 migration is a pre-requisite of TLS 1.2 communication. Thus, follow the related document prior to following the steps to enable TLSv12 given below. The steps which I have mentioned below are&nbsp; done on a non - clustered , single node instance of Weblogic.&nbsp;In case of clustered setup, You need to do the steps on all the&nbsp; nodes. <o:p></o:p></span></div><div class="MsoNoSpacing"><br /></div><div class="MsoNoSpacing"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><b>Important Information / Notes:</b><o:p></o:p></span></div><div class="MsoNoSpacing"><br /></div><div class="MsoNoSpacing"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><span style="text-indent: -0.25in;">Oracle JDK version information regarding support of SHA-2 cipher suites and TLS version 1.2, please refer </span><a href="https://www.oracle.com/technetwork/java/javase/overview-156328.html#R160_121" style="text-indent: -0.25in;">https://www.oracle.com/technetwork/java/javase/overview-156328.html#R160_121</a></span></div><div class="MsoNoSpacing"><span style="text-indent: -0.25in;"><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><br /></span></span></span></div><div class="MsoNoSpacing"><span style="text-indent: -0.25in;"><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><br /></span></span></span></div><div class="MsoNoSpacing"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><span style="text-indent: -0.25in;"><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal;">&nbsp;</span></span><span style="text-indent: -0.25in;">IBM Java 7, SR4 version supports SHA-2 cipher suites and TLS version 1.2. For more details on this please check with IBM.</span></span></div><div class="MsoNoSpacing" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><o:p></o:p></span></div><br /><div class="MsoNoSpacing"><br /></div><div class="MsoNoSpacing"><span style="text-indent: -0.25in;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">In WLS12c (12.1.1 and up), JSSE is the default SSL implementation and Certicom was removed.</span></span></div><div class="MsoNoSpacing"><span style="background-color: white;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><br /></span></span></div><div class="MsoNoSpacing"><span style="background-color: white;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">TLS 1.1 and      1.2 is supported with a combination of JDK 7 Update 1 (or later)&nbsp;and&nbsp;JSSE      enabled.</span></span></div><div class="MsoNoSpacing"><span style="background-color: white;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><br /></span></span></div><div class="MsoNoSpacing"><span style="background-color: white;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">JDK 6      Update&nbsp;1.6.0_121 adds support for TLS 1.2 on all platforms.&nbsp;</span></span></div><div class="MsoNoSpacing"><span style="background-color: white;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><br /></span></span></div><div class="MsoNoSpacing"><a href="https://www.blogger.com/null" name="_Toc528537007"><span lang="X-NONE"><br /></span></a></div><h4 style="text-align: left;"><a href="https://www.blogger.com/null" name="_Toc528537007"><span lang="X-NONE">Disabling SSL / TLS Protocol </span></a><span lang="X-NONE">&nbsp;</span><span lang="X-NONE">for Oracle WebLogic Server</span></h4><div style="text-align: left;">WebLogic Server versions (8.1 + ) allow SSL 2.0 and SSL 3.0 to be disabled with the following parameter at startup as a JAVA_OPTION because TLS 1.0 is minimally supported on all versions:</div><div style="background: white; margin-left: 22.5pt; text-align: left;"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;"><span style="color: #6aa84f;">&nbsp;<o:p></o:p></span></span></div><div class="MsoNoSpacing"></div><div style="background: white; margin-left: 45.0pt;"><b><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;"><span style="color: #38761d;">-Dweblogic.security.SSL.protocolVersion=TLS</span></span></b><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;"><o:p></o:p></span></div><div class="MsoNoSpacing"><span style="background-color: white;"><br /></span></div><div class="MsoNoSpacing"></div><ul type="disc"><li class="MsoNormal" style="background: white; line-height: normal; mso-list: l0 level1 lfo1; mso-margin-bottom-alt: auto; mso-margin-top-alt: auto; tab-stops: list .5in;">For Certicom, setting -Dweblogic.security.SSL.protocolVersion=TLS1      enables only TLS 1.0.<o:p></o:p></li><li class="MsoNormal" style="background: white; line-height: normal; mso-list: l0 level1 lfo1; mso-margin-bottom-alt: auto; mso-margin-top-alt: auto; tab-stops: list .5in;">For JSSE, setting -Dweblogic.security.SSL.protocolVersion=TLS1      enables any protocol starting with "TLS", for example TLS 1.0,      TLS 1.1, and TLS 1.2.<o:p></o:p></li></ul><div class="MsoNoSpacing"><br /></div><div class="MsoNoSpacing">Older protocols can also be disabled by configuring a minimum higher protocol for example to gain, support of TLSv1.1 or TLSv1.2 protocols, use the following as JAVA_OPTION<o:p></o:p></div><div class="MsoNoSpacing"><br /></div><div class="MsoNoSpacing" style="text-align: left;"><strong><span style="background: white;"><span style="color: #38761d; font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="font-size: x-small;"> &nbsp; -Dweblogic.security.SSL.minimumProtocolVersion=TLSv1.1&nbsp;</span></span><span style="font-family: &quot;tahoma&quot; , sans-serif;"><o:p></o:p></span></span></strong></div><div class="MsoNoSpacing" style="text-align: left;"><strong><span style="background: white;"><span style="color: #38761d; font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><span style="font-size: x-small;"><br /></span></span></span></strong></div><div class="MsoNoSpacing" style="text-align: left;"><br /></div><h3 style="line-height: normal;"><a href="https://www.blogger.com/null" name="_Toc528537008">Enabling TLS 1<span lang="X-NONE">.</span></a>2 for Weblogic Servers<span lang="X-NONE"> <o:p></o:p></span></h3><span style="background-color: white;"></span><br /><div class="MsoNormal" style="line-height: normal;"><br />A SHA2 compliant certificate is a pre-requisite for using TLS 1.2 protocol for SSL communication.&nbsp;&nbsp;</div><div class="MsoNormal" style="line-height: normal;"><br /></div><div class="MsoNormal" style="line-height: normal;">Complete steps [1-4] below to generate SHA2 compliant certificates first.<o:p></o:p></div><br /><div class="MsoNormalCxSpFirst" style="line-height: normal; margin-left: 0.75in; text-align: left; text-indent: -0.25in;"></div><ol style="text-align: left;"><li><span style="font-family: &quot;symbol&quot;; text-indent: -0.25in;"><span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span style="text-indent: -0.25in;">Move to SHA2 compliant certificates in Identity and Trust stores.</span></li><li><span style="font-family: &quot;symbol&quot;; text-indent: -0.25in;"><span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span style="text-indent: -0.25in;">Update to the latest PSU for the Weblogic Server version. (If applicable)</span></li><li><span style="font-family: &quot;symbol&quot;; text-indent: -0.25in;"><span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span style="text-indent: -0.25in;">Edit $DOMAIN_HOME/bin/setDomainEnv.sh file to set following Java options for enabling TLS 1.2 on Weblogic servers.</span></li></ol><br /><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: 0.5in; text-align: left; text-indent: 0.5in;"><span style="color: #38761d; font-size: x-small;">TLS_JAVA_OPTIONS=" -Djavax.net.ssl.trustStore=&lt;TRUST_KEYSTORE&gt; -Dweblogic.security.SSL.ignoreHostnameVerification=true -Dweblogic.security.SSL.enforceConstraints=off -Dweblogic.ssl.JSSEEnabled=true -Dweblogic.security.SSL.enableJSSE=true -Dweblogic.security.SSL.protocolVersion=TLSv1.2&nbsp; -Dhttps.protocols=TLSv1.2&nbsp;&nbsp; -Djdk.tls.client.protocols=TLSv1.2 -Djdk.tls.disabledAlgorithms=SSLv2Hello,SSLv3,TLSv1,TLSv1.1 -Dweblogic.security.SSL.minimumProtocolVersion=TLSv1.2"</span><span style="font-size: 10pt;"><o:p></o:p></span></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: 0.5in; text-align: left; text-indent: 0.5in;"><span style="color: #38761d; font-size: x-small;"><br /></span></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .5in; mso-add-space: auto; text-indent: .5in;"><span style="font-size: 10.0pt;">&nbsp;4.&nbsp;</span><span style="font-family: &quot;symbol&quot;; text-indent: -0.25in;"><span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;</span></span><span style="text-indent: -0.25in;">Start the Admin server and managed servers. All server communication will happen on TLS 1.2 after this start. We can enable SSL logs by adding below Java options either while starting the server or in “DOMAIN_HOME/bin/setDomainEnv.sh” file:</span></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLineBreakNewLine]--><br /><!--[endif]--><o:p></o:p></div><div class="MsoNoSpacing"></div><div class="MsoNormal" style="margin-left: .75in;"><span style="line-height: 115%;"><span style="color: #38761d; font-size: x-small;">-Dssl.debug=true -Djavax.net.debug=ssl:handshake:verbose</span></span></div><div class="MsoNormal" style="margin-left: .75in;"><a href="https://www.blogger.com/null" name="_Toc528537009"><br /></a></div><h4 style="margin-left: 0.75in; text-align: left;"><a href="https://www.blogger.com/null" name="_Toc528537009">Support for SHA2 certificates in WLS</a></h4><div><a href="https://www.blogger.com/null" name="_Toc528537009"><br /></a></div><div class="MsoNormal" style="margin-left: .75in;"><span style="line-height: 115%;"> </span></div><div class="MsoNormal" style="line-height: normal; margin-bottom: 12.0pt; mso-margin-top-alt: auto;"><span style="color: black; mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SHA2 signed certificates and ciphers are supported under these conditions with Oracle WebLogic Server:<o:p></o:p></span></div><ul style="text-align: left;" type="disc"><li class="MsoNormal" style="color: black; line-height: normal; margin-bottom: 12.0pt; mso-list: l0 level1 lfo1; mso-margin-top-alt: auto; tab-stops: list .5in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">WebLogic Server 10.3.6 and prior versions do <b>not</b>     support SHA2 signed certificates or cipher suites when using the default      Certicom SSL.<o:p></o:p></span></li><li class="MsoNormal" style="color: black; line-height: normal; margin-bottom: 12.0pt; mso-list: l0 level1 lfo1; mso-margin-top-alt: auto; tab-stops: list .5in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">The following WebLogic Server versions      support SHA2 <b>cipher suites</b> when using JSSE SSL and the following      JDK versions:<o:p></o:p></span></li><ul type="circle"><li class="MsoNormal" style="color: black; line-height: normal; mso-list: l0 level2 lfo1; mso-margin-bottom-alt: auto; mso-margin-top-alt: auto; tab-stops: list 1.0in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">WLS 10.3.6 with JDK 7 and JSSE enabled using       the JDK's JSSE provider<o:p></o:p></span></li><li class="MsoNormal" style="color: black; line-height: normal; mso-list: l0 level2 lfo1; mso-margin-bottom-alt: auto; mso-margin-top-alt: auto; tab-stops: list 1.0in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">WLS 12.1.1 with JDK 7 and JSSE enabled using       the JDK's JSSE provider<o:p></o:p></span></li><li class="MsoNormal" style="color: black; line-height: normal; margin-bottom: 12.0pt; mso-list: l0 level2 lfo1; mso-margin-top-alt: auto; tab-stops: list 1.0in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">WLS 12.1.2 (or later) with JDK 7 (or later)       and JSSE enabled using the JDK's JSSE provider<o:p></o:p></span></li></ul><li class="MsoNormal" style="color: black; line-height: normal; margin-bottom: 12.0pt; mso-list: l0 level1 lfo1; mso-margin-top-alt: auto; tab-stops: list .5in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">The following WebLogic Server versions      support SHA2 <b>signed certificates</b> when using JSSE SSL and the      following JDK versions:<o:p></o:p></span></li><ul type="circle"><li class="MsoNormal" style="color: black; line-height: normal; mso-list: l0 level2 lfo1; mso-margin-bottom-alt: auto; mso-margin-top-alt: auto; tab-stops: list 1.0in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">WLS 10.3.3 - 10.3.6 with JDK 6 and JSSE       enabled using the JDK's JSSE provider<o:p></o:p></span></li><li class="MsoNormal" style="color: black; line-height: normal; mso-list: l0 level2 lfo1; mso-margin-bottom-alt: auto; mso-margin-top-alt: auto; tab-stops: list 1.0in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">WLS 10.3.6 with JDK 7 and JSSE enabled using       the JDK's&nbsp; JSSE provider<o:p></o:p></span></li><li class="MsoNormal" style="color: black; line-height: normal; mso-list: l0 level2 lfo1; mso-margin-bottom-alt: auto; mso-margin-top-alt: auto; tab-stops: list 1.0in;"><span style="mso-bidi-font-family: Tahoma; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: &quot;Times New Roman&quot;;">WLS 12.1.1 with JDK 7 and JSSE enabled using       the JDK's&nbsp; JSSE provider</span></li></ul></ul><div><br /></div><ul style="text-align: left;" type="disc"><li><span style="color: black; line-height: 115%;">WLS 12.1.2 (or later) with JDK 7 (or later) and JSSE enabled using the JDK’s&nbsp;JSSE provider</span></li></ul><div class="MsoNormal"><br /></div><div class="MsoNormal"><b style="mso-bidi-font-weight: normal;"><span style="color: black; line-height: 115%;">Notes:</span></b><span style="color: black; line-height: 115%;"><br />- See docs to enable JSSE&nbsp; - </span><span style="color: black; line-height: 115%;"><span style="color: black; text-decoration: none;"><a href="https://docs.oracle.com/cd/E23943_01/web.1111/e13707/ssl.htm#SECMG494" target="_blank">https://docs.oracle.com/cd/E23943_01/web.1111/e13707/ssl.htm#SECMG494</a></span></span><span style="color: black; line-height: 115%;"><o:p></o:p></span></div><div class="MsoNormal"><span style="color: black; line-height: 115%;"><br /></span></div><div class="MsoNormal"><span style="color: black; line-height: 115%;">- Note some versions may have expired support. Check </span><span style="color: black; line-height: 115%;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?parent=DOCUMENT&amp;sourceId=1275428.1&amp;id=950131.1"><span style="color: black; text-decoration: none;">Note 950131.1</span></a></span><span style="color: black; line-height: 115%;"> for current support status.<br />- For expiring JDK versions, see </span><span style="color: black; line-height: 115%;"><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?parent=DOCUMENT&amp;sourceId=1275428.1&amp;id=952075.1"><span style="color: black; text-decoration: none;">Note 952075.1</span></a></span><span style="color: black; line-height: 115%;"> for the Java SE End of Life and Oracle Fusion Middleware Policy<br />- For more detail on support provided in the JDK's JSSE provider, consult the applicable JDK documentation<a href="https://www.blogger.com/null" name="_Appendix-2"></a><o:p></o:p></span></div><div class="MsoNormal"><br /></div><div class="MsoNormal"><span style="color: black; line-height: 115%;"><br /></span></div><h4 style="line-height: normal; text-align: left;"><a href="https://www.blogger.com/null" name="_Toc528537010">How to migrate key stores to use SHA2 certificates?</a></h4><h3 style="line-height: normal;"><o:p></o:p></h3><div class="MsoNormal"><br /></div><div class="MsoNormal">Steps to replace the certificates managed by WebLogic Server. The steps described are for a non-clustered setup, for clustered setup update the key store at the admin server node and copy the updated key stores from the admin node to all the other nodes.<o:p></o:p></div><div class="MsoNormal"><br /></div><div class="MsoNormal"><i>Steps:-</i></div><div class="MsoNormal" style="margin-left: 0.5in; text-align: left; text-indent: -0.25in;"></div><ul style="text-align: left;"><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Identify the key stores in use at WLS server level.</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Identify the signing algorithm used in these certificates</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Identify the alias in use against existing identity key store</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Delete the above identified alias from the existing identity key store if signing algorithm is not SHA2</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Generate a new key with same alias name in existing identity key store</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Export the trust certificate from existing identity key store</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Identify the alias name used to import the trust certificate of identity key store in existing trust key store</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Delete the above identified alias from existing trust key store if signing algorithm is not SHA2</span></li><li><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span style="text-indent: -0.25in;">Import the newly exported trust certificate from existing identity key store to existing trust keystore</span></li></ul><div><br /></div><br /><h4 style="text-align: left;">Identifying&nbsp; key stores <i>IN USE</i> at Web Logic.<br /><o:p>&nbsp;</o:p></h4><div class="MsoNormal"><o:p></o:p></div><div class="MsoNormal" style="margin-left: 0.5in; text-indent: -0.25in;"><o:p></o:p></div><div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLists]--><span style="font-family: &quot;symbol&quot;; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">·<span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->Login to WLS admin console.<o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLists]--><span style="font-family: &quot;symbol&quot;; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">·<span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->Click on “Environment” <span style="font-family: &quot;wingdings&quot;; mso-ascii-font-family: Calibri; mso-char-type: symbol; mso-hansi-font-family: Calibri; mso-symbol-font-family: Wingdings;">à</span> “Servers”.<o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLists]--><span style="font-family: &quot;symbol&quot;; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">·<span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->Click on the name of any server listed.<o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLists]--><span style="font-family: &quot;symbol&quot;; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">·<span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->Go to “Configurations” <span style="font-family: &quot;wingdings&quot;; mso-ascii-font-family: Calibri; mso-char-type: symbol; mso-hansi-font-family: Calibri; mso-symbol-font-family: Wingdings;">à</span> “Key stores” tab listed on top.<o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLists]--><span style="font-family: &quot;symbol&quot;; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">·<span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->Check the key store listed here. E.g. Custom Identity and Custom Trust, Demo Identity and Demo trust etc.<o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLists]--><span style="font-family: &quot;symbol&quot;; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">·<span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->Check the trust and identity key stores listed here. These are the ones which are actively used for SSL communication.<o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal; margin-left: .75in; mso-add-space: auto; mso-list: l0 level1 lfo1; text-indent: -.25in;"><!--[if !supportLists]--><span style="font-family: &quot;symbol&quot;; mso-bidi-font-family: Symbol; mso-fareast-font-family: Symbol;">·<span style="font-family: &quot;times new roman&quot;; font-size: 7pt; font-stretch: normal; line-height: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]-->Repeat above steps for all managed servers and admin server.<o:p></o:p></div><br /><div class="MsoNormal" style="text-indent: .5in;">In order to identify the signing algorithm of certificates used in all key stores (Custom or Demo), use the below commands/ steps.<o:p></o:p></div><div class="MsoNormal" style="text-indent: .5in;"><br /></div><div class="MsoNormal" style="text-align: left; text-indent: 0.5in;"><b><span style="line-height: 115%;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">keytool -list –v -key store &lt;keystore_file_name&gt;</span><span style="font-size: 8pt;"><o:p></o:p></span></span></b></div><div class="MsoNormal"><br /></div><div class="ColorfulList-Accent11CxSpFirst" style="line-height: normal; margin-left: .25in; mso-add-space: auto;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">If you are using CA signed certificates, you will need to have the CA re-issue SHA2 certificates. After generating the CSR from these key stores in use, you will need to&nbsp;<span style="text-indent: -0.25in;">a)</span><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp;&nbsp;&nbsp; </span><span style="text-indent: -0.25in;">get the CSR signed by the CA and&nbsp;&nbsp;</span><span style="text-indent: -0.25in;">b)</span><span style="font-size: 7pt; font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; text-indent: -0.25in;">&nbsp;&nbsp;&nbsp; </span><span style="text-indent: -0.25in;">Import user and trust certificates back into the identified key stores.</span></span></div><div class="ColorfulList-Accent11CxSpMiddle" style="line-height: normal; mso-list: l2 level1 lfo2; text-indent: -.25in;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;"><o:p></o:p></span></div><div class="ColorfulList-Accent11CxSpMiddle" style="line-height: normal; margin-left: .25in; mso-add-space: auto;"><br /></div><div class="ColorfulList-Accent11CxSpLast" style="line-height: normal; margin-left: .25in; mso-add-space: auto;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">Ensure to use 2048 key length and SHA256 signing algorithm during certificate signing request generation, also ensure all other details provided in the CSR is same as existing certificates.</span><o:p></o:p></div><div class="MsoNormal" style="margin-left: .5in; text-indent: -.5in;"><br /></div><div class="MsoNormal" style="margin-left: .5in; text-indent: -.5in;">For regenerating self-signed certificates, identify<span style="font-size: 12pt; text-indent: 0.5in;">&nbsp;the alias in use for the given custom identity key store.</span></div><ul style="text-align: left;"><li style="text-align: justify;"><span style="font-family: &quot;courier new&quot;; text-indent: -0.25in;"><span style="font-family: &quot;times new roman&quot;; font-stretch: normal; line-height: normal;">In WLS Console&nbsp;</span></span><span style="text-indent: -0.25in;">Click on “Environment” </span><span style="font-family: &quot;wingdings&quot;; text-indent: -0.25in;">à</span><span style="text-indent: -0.25in;"> “Servers”.</span></li><li style="text-align: justify;"><span style="text-indent: -0.25in;">Click on the name of any server listed here.</span></li><li style="text-align: justify;">Go to “Configurations” <span style="font-family: &quot;wingdings&quot;; text-indent: -0.25in;">à</span><span style="text-indent: -0.25in;">“SSL” tab listed on top.</span></li><li style="text-align: justify;"><span style="font-family: &quot;courier new&quot;; text-indent: -0.25in;"><span style="font-family: &quot;times new roman&quot;; font-stretch: normal; line-height: normal;">&nbsp;</span></span><span style="text-indent: -0.25in;">Check the alias listed here. e.g. “support”.</span></li><li style="text-align: justify;"><span style="font-family: &quot;courier new&quot;; line-height: 115%; text-indent: -0.25in;"><span style="font-family: &quot;times new roman&quot;; font-stretch: normal; line-height: normal;">&nbsp;</span></span><span style="line-height: 115%; text-indent: -0.25in;">Repeat above steps for all managed servers and admin server,</span></li></ul><!--[if !supportLists]--><br /><div class="MsoNormal">Take a backup of the existing identity key store.<o:p></o:p></div><div class="MsoNormal"><br /></div><div class="MsoNormal">Delete the above identified alias (example support) from existing custom identity key store signing algorithm is not SHA2 for the same using the below command.<o:p></o:p></div><div class="MsoNormal" style="margin-left: 1.0in; text-indent: -.5in;"><b><span style="line-height: 115%;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span></span></b></div><div class="MsoNormal" style="margin-left: 1.0in; text-indent: -.5in;"><b><span style="line-height: 115%;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">keytool -delete -alias &lt;identified alias&gt; -key store &lt;existing_custom_identity_store&gt; -storepass &lt;existing_custom_identity_store_password&gt;</span><br /><!--[if !supportLineBreakNewLine]--><br /><!--[endif]--></span></b><o:p></o:p></div><div class="MsoNormal"><span style="font-size: 12.0pt; line-height: 115%;">Create new key with same alias name in existing custom identity key store using below command:<o:p></o:p></span></div><div class="MsoNormal" style="line-height: normal;"><b><span style="font-size: 8.0pt;"><br /></span></b></div><div class="MsoNormal" style="line-height: normal;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><b>keytool -genkey -alias &lt;identified_alias&gt; -keyalg RSA -keysize 2048 -sigalg SHA256withRSA -dname "&lt;dn_name&gt;" -keypass &lt;any-password-of-choice-for-private-key&gt;&nbsp; -keystore &lt;existing_custom_identity_store&gt; -storepass &lt;existing_custom_identity_store_password&gt;</b></span></div><div class="MsoNormal" style="line-height: normal;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><b><br /></b>e.g.</span></div><div class="MsoNormal" style="line-height: normal;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">keytool -genkey -alias support -keyalg RSA -keysize 2048 -sigalg SHA256withRSA -dname "CN=myhost.com, OU=Identity, O=My Corporation,C=US" -keypass welcome1&nbsp; -keystore /u01/jdk6u35_b10/jre/bin/custom_identity_store.jks -storepass welcome1<o:p></o:p></span></div><div class="MsoNormal" style="line-height: normal;"><br /></div><div class="MsoNormal"><span style="font-size: 12.0pt; line-height: 115%;">Create self-signed certificate in existing custom identity key store using below command:</span></div><div class="MsoNormal"><span style="font-size: 12.0pt; line-height: 115%;"><br /></span></div><div style="text-align: left;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><b><span style="line-height: 115%;">keytool -selfcert -alias &lt;alias_name&gt; -sigalg SHA256withRSA -keypass &lt; any-password-of-choice-for-private-key&gt; -keystore &lt;existing_custom_identity_store&gt; -storepass &lt;existing_custom_identity_store_password&gt;</span></b><span style="line-height: 115%;">e.g.</span><span style="line-height: 115%;">keytool -selfcert -alias support -sigalg SHA256withRSA -keypass welcome1 -keystore /u01/jdk6u35_b10/jre/bin/custom_identity_store.jks -storepass welcome1</span></span></div><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><o:p></o:p></span><br /><div class="MsoNormal" style="margin-left: 1in; text-align: left; text-indent: -0.5in;"><br /></div><div class="MsoNormal">Export above created self-signed certificate from existing custom identity keystore using below command:<br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><span style="line-height: 115%;"><br /></span><b><span style="line-height: 115%;">keytool -export -alias &lt;alias_name&gt; -file &lt;cert_file_name&gt; -keypass &lt;any-password-of-choice-for-private-key&gt; -keystore &lt;existing_custom_identity_store&gt; -storepass &lt;existing_custom_identity_store_password&gt;<br /></span></b><span style="line-height: 115%;">e.g.<br />keytool -export -alias support&nbsp; -file /scratch/supportcert.pem -keypass welcome1 -keystore /u01/jdk6u35_b10/jre/bin/custom_identity_store.jks -storepass welcome1</span><o:p></o:p></span></div><div class="MsoNormal"><br /></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;">Take backup of existing trust keystore and import this self-signed certificate in trust store but before delete the previous alias the existing certificate was imported. For example <o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;"><br /></div><div class="MsoNormal" style="line-height: normal; text-align: left;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><b>keytool -delete -alias &lt;existing_alias_name&gt; -keystore &lt;custom_trust_store&gt; -storepass &lt;password-of-existing-trust-keystore&gt;</b></span></div><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">e.g.<br />keytool -delete -alias serverssl -keystore &lt;DOMAIN_HOME&gt;/config/fmwconfig/custom_trust_store.jks -storepass welcome1</span><br /><br /><div class="MsoNormalCxSpMiddle" style="line-height: normal; text-align: left;"><br /></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;">Import the new certificate against the same<o:p></o:p></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;"><br /></div><div class="MsoNormal"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><b><span style="line-height: 115%;">keytool -import -alias serverssl -trustcacerts -file &lt;cert_file_name&gt; -keystore &lt;custom_trust_store&gt;&nbsp; -storepass &lt;password-of-existing-trust-keystore&gt;</span></b><span style="line-height: 115%;"><br />e.g.<br />keytool -import -alias serverssl -trustcacerts -file /scratch/supportcert.pem -keystore &lt;DOMAIN_HOME&gt;/config/fmwconfig/custom_trust_store.jks -storepass welcome1</span><o:p></o:p></span></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;"><br /></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">After this if you list the keystore then against “serverssl” alias it will show a SHA2 certificate algorithm. <o:p></o:p></span></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">Similarly, update all the required self-signed certificates in a given keystore. <o:p></o:p></span></div><div class="MsoNormalCxSpMiddle" style="line-height: normal;"><br /></div><div class="MsoNormal"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">Web Services and Client Applications (Out bound Connections)<o:p></o:p></span></div><div class="MsoNormal"><span style="font-family: &quot;times&quot; , &quot;times new roman&quot; , serif;">When applications are running as client for example web services and to invoke remote connections, the below system property can be used to include TLSv1.0, 1.1 and 1.2. </span><o:p></o:p></div><div class="MsoNormal"><br /></div><div class="MsoNormal" style="text-align: left;"><strong><span style="background: white; font-family: &quot;tahoma&quot; , sans-serif;"><span style="color: #38761d; font-size: x-small;">-Djdk.tls.client.protocols=TLSv1,TLSv1.1,TLSv1.2</span><o:p></o:p></span></strong></div><div class="MsoNormal"><br /></div><div class="MsoNormal" style="text-indent: .5in;">TLSv1.1 and TLSv1.2 protocol versions are supported but are not enabled by default when using earlier versions of&nbsp;JDK 6 and 7. We need to explicitly set them using the system above system property, else only TLS 1.0 will be used. The JDK 8 default allows both TLS 1.1 and 1.2 by default. It is important to consider the external servers the application is connecting to. The protocol will always be negotiated to the highest supported level between the client and server.<o:p></o:p></div><div class="MsoNormal">Older JDK versions only support TLS 1.0 for outbound client connections.&nbsp;</div><div class="MsoNormal"><br /></div><div class="MsoNormal">The jdk.tls.client.protocols system property is available<b>&nbsp;since 7u95 and 6u121</b>&nbsp;to be able to set this.<o:p></o:p></div><h4 style="background: white; text-align: left;"><a href="https://www.blogger.com/null" name="_Toc528537011">Testing Connections</a></h4><h3 style="background: white;"><o:p></o:p></h3><div style="background: white; margin-bottom: 12.0pt;"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;">A common method to test is by setting options on your browser and testing one protocol at a time . If you only want TLS 1.2 to work, then disable all other protocols in your browser settings.<br /><br />If you have openssl on your system, you can test to ensure what you have configured is working with the following commands to connect:<o:p></o:p></span></div><div style="background: white; margin-bottom: 12.0pt; margin-left: 22.5pt; margin-right: 0in; margin-top: 5.0pt;"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;">openssl s_client -connect &lt;hostname:port&gt; -ssl_3<br />openssl s_client -connect &lt;hostname:port&gt; -tls1<br />openssl s_client -connect &lt;hostname:port&gt;&nbsp;-tls1_1<br />openssl s_client -connect &lt;hostname:port&gt;&nbsp;-tls1_2<o:p></o:p></span></div><div style="background: white;"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;">Replace hostname and port with your server. The results depends on what you have configured. You definitely want to see -ssl_3 fail to avoid the Poodle vulnerability. &nbsp;If you have configured a minimum TLS version, then you will want -tls1 to fail. Keep in mind you also need supported ciphers available for each protocol.&nbsp; for example&nbsp; Use the following to confirm listener accepts SSL_RSA_WITH_AES_256_CBC_SHA and TLS 1.2:<o:p></o:p></span></div><div style="background: white;"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;"><br /></span></div><div style="background: white; margin-left: 22.5pt;"><span style="font-family: &quot;calibri&quot; , sans-serif; font-size: 11.0pt;">openssl s_client&nbsp;-connect &lt;hostname:port&gt; -tls1_2 -cipher AES256-SHA<o:p></o:p></span></div><div class="MsoNormal"><br /></div><div class="MsoNormal"><br /></div></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><div class="MsoNormal"><span style="line-height: 115%;">                       </span></div><div class="MsoNormal" style="margin-left: .5in; mso-list: l0 level1 lfo1; text-indent: -.25in;"><o:p></o:p></div><span style="color: #38761d; font-size: x-small;"></span></div>