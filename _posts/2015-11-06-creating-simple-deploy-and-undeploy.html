---
layout: post
title: Deploy/Undeploy script for SOA Composites from  SOAINFRA.
date: '2015-11-06T21:40:00.000+05:30'
author: Pinak Mazumdar
sitemap:
  lastmod: 2022-05-31
  priority: 0.7
  changefreq: 'monthly'
  exclude: 'no'
tags: 
modified_time: '2015-11-06T21:40:04.188+05:30'
subtitle: Deploy/Undeploy script for SOA Composites
---

<div dir="ltr" style="text-align: left;" trbidi="on">Using this simple script we can undeploy SOA composites deployed on a Oracle SOA partition.<div>We can do this by creating a xml file and &nbsp;a shell script where we will embed this xml file.</div><div><br /></div><div>ORACLE &nbsp;provides an out of the box deploy and undeploy xml files which makes use of ant to perform the job. We are creating the deploy.xml and undeploy.xml to include this out of the box files.</div><div><br /></div><div>At first we need to create a xml file with the below tags:</div><div><br /></div><div><br /></div><div><div>&lt;?xml version="1.0" encoding="iso-8859-1"?&gt;</div><div>&lt;project name="manualUndeploy" default="build"&gt;</div><div>&nbsp; &lt;target name="<span style="font-family: inherit;">build"&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &lt;echo&gt;Undeploying...&lt;/echo&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &lt;ant antfile="ant-sca-deploy.xml" inheritall="false" target="undeploy"&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &nbsp; &lt;property name="serverURL" &nbsp; &nbsp; &nbsp;value="http://172.22.112.244:7001"/&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &nbsp; &lt;property name="user" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; value="weblogic"/&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &nbsp; &lt;property name="password" &nbsp; &nbsp; &nbsp; value="hower@123"/&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &nbsp; &lt;property name="compositeName" &nbsp;value="agreementfalling"/&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &nbsp; &lt;property name="revision" &nbsp; &nbsp; &nbsp; value="10.0"/&gt;</span></div><div><span style="font-family: inherit;">&nbsp; &nbsp; &nbsp; &lt;property name="partition</span>" &nbsp; &nbsp; &nbsp;value="default"/&gt;</div><div>&nbsp; &nbsp; &nbsp; &lt;property name="failOnError" &nbsp; &nbsp;value="true"/&gt;</div><div>&nbsp; &nbsp; &lt;/ant&gt;</div><div>&nbsp; &lt;/target&gt;</div><div>&nbsp; &lt;/project&gt;</div></div><div><br /></div><div>The second step is to &nbsp;create a simple UNIX shell script, which can be used to invoke this xml file.</div><div><br /></div><div><pre style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><tt style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;">#!/bin/bash<br />#  This is used to invoke the undeploy.xml</tt></pre><pre style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><tt style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;">. /var/domain/soa_dev02/soa_dev02_domain/bin/setDomainEnv.sh<br />   ant -f /home/soadev02/undeploy.xml</tt></pre><pre style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><tt style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><br /></tt></pre><pre style="font-size: 14.6667px;"><tt style="font-size: 14.6667px;"><span style="font-family: inherit;">The setDomainEnv.sh will set the environment variables and the wls jars in the classpath.</span></tt><tt style="font-size: 14.6667px;"><span style="font-family: Times, Times New Roman, serif;">You can create a more interactive and dynamic script by using variables instead of the hard coded path which I have done,t</span></tt><span style="font-family: Times, 'Times New Roman', serif; font-size: 14.6667px;">hat I leave it up to you folks on how to do.</span></pre><pre style="font-size: 14.6667px;"><br /></pre><pre style="font-size: 14.6667px;"><tt style="font-size: 14.6667px;"><span style="font-family: Times, Times New Roman, serif;"><br /></span></tt></pre><pre style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><tt style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><br /></tt></pre><pre style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><tt style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><br /></tt></pre><pre style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><tt style="font-family: courier, lucidatypewriter, monospace; font-size: 14.6667px;"><br /></tt></pre></div></div>